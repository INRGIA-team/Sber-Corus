{"ast":null,"code":"const serverUrl = 'http://localhost:8002';\nexport class Api {\n  makeRequest(options) {\n    return fetch(options.endpoint, { ...options.options,\n      method: options.method,\n      body: options.body ? JSON.stringify(options.body) : undefined,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json());\n  }\n\n  getCars() {\n    let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let per_page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    return this.makeRequest({\n      endpoint: `${serverUrl}/api/car?page=${page}&per_page=${per_page}`,\n      method: 'GET'\n    });\n  }\n\n  getCar(id) {\n    return this.makeRequest({\n      endpoint: `${serverUrl}/api/car/${id}/`,\n      method: 'GET'\n    });\n  }\n\n  postCar(car) {\n    return this.makeRequest({\n      endpoint: `${serverUrl}/api/car/`,\n      method: 'POST',\n      body: car\n    });\n  }\n\n  putCar(car) {\n    return this.makeRequest({\n      endpoint: `${serverUrl}/api/car/${car.id}`,\n      method: 'PUT',\n      body: car\n    });\n  }\n\n  deleteCar(id) {\n    return this.makeRequest({\n      endpoint: `${serverUrl}/api/car/${id}`,\n      method: 'DELETE'\n    });\n  }\n\n}","map":{"version":3,"names":["serverUrl","Api","makeRequest","options","fetch","endpoint","method","body","JSON","stringify","undefined","headers","then","res","json","getCars","page","per_page","getCar","id","postCar","car","putCar","deleteCar"],"sources":["/home/alex/Python/SberBack/INGRIA-team/ui/src/services/api.service.tsx"],"sourcesContent":["import { Car } from '../interfaces/car'\n\nconst serverUrl = 'http://localhost:8002';\nexport class Api {\n    makeRequest<T>(options: {\n        method: 'POST' | 'PUT' | \"GET\" | 'DELETE',\n        endpoint: string,\n        body?: any,\n        options?: any\n    }): Promise<T>{\n        return fetch(options.endpoint,\n             {...options.options, method: options.method, \n                body: options.body ?  JSON.stringify(options.body) : undefined, \n                headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },}\n             \n             ).then(res => res.json())\n    }\n\n\n    getCars(page: number = 0, per_page: number = 10): Promise<Car[]>{\n        return this.makeRequest({\n            endpoint:  `${serverUrl}/api/car?page=${page}&per_page=${per_page}`,\n            method: 'GET',\n        })\n    }\n\n    getCar(id: string | number): Promise<Car>{\n        return this.makeRequest({\n            endpoint:  `${serverUrl}/api/car/${id}/`,\n            method: 'GET',\n        })\n    }\n\n    postCar(car: Car): Promise<Car>{\n        return this.makeRequest({\n            endpoint:  `${serverUrl}/api/car/`,\n            method: 'POST',\n            body: car\n        })\n    }\n\n    putCar(car: Car): Promise<Car>{\n        return this.makeRequest({\n            endpoint: `${serverUrl}/api/car/${car.id}`,\n            method: 'PUT',\n            body: car\n        })\n    }\n\n    deleteCar(id: number): Promise<{succsess: boolean}>{\n        return this.makeRequest({\n            endpoint:  `${serverUrl}/api/car/${id}`,\n            method: 'DELETE',\n        })\n    }\n\n}"],"mappings":"AAEA,MAAMA,SAAS,GAAG,uBAAlB;AACA,OAAO,MAAMC,GAAN,CAAU;EACbC,WAAW,CAAIC,OAAJ,EAKG;IACV,OAAOC,KAAK,CAACD,OAAO,CAACE,QAAT,EACP,EAAC,GAAGF,OAAO,CAACA,OAAZ;MAAqBG,MAAM,EAAEH,OAAO,CAACG,MAArC;MACGC,IAAI,EAAEJ,OAAO,CAACI,IAAR,GAAgBC,IAAI,CAACC,SAAL,CAAeN,OAAO,CAACI,IAAvB,CAAhB,GAA+CG,SADxD;MAEGC,OAAO,EAAE;QACT,UAAU,kBADD;QAET,gBAAgB;MAFP;IAFZ,CADO,CAAL,CAQAC,IARA,CAQKC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARZ,CAAP;EASH;;EAGDC,OAAO,GAAyD;IAAA,IAAxDC,IAAwD,uEAAzC,CAAyC;IAAA,IAAtCC,QAAsC,uEAAnB,EAAmB;IAC5D,OAAO,KAAKf,WAAL,CAAiB;MACpBG,QAAQ,EAAI,GAAEL,SAAU,iBAAgBgB,IAAK,aAAYC,QAAS,EAD9C;MAEpBX,MAAM,EAAE;IAFY,CAAjB,CAAP;EAIH;;EAEDY,MAAM,CAACC,EAAD,EAAmC;IACrC,OAAO,KAAKjB,WAAL,CAAiB;MACpBG,QAAQ,EAAI,GAAEL,SAAU,YAAWmB,EAAG,GADlB;MAEpBb,MAAM,EAAE;IAFY,CAAjB,CAAP;EAIH;;EAEDc,OAAO,CAACC,GAAD,EAAwB;IAC3B,OAAO,KAAKnB,WAAL,CAAiB;MACpBG,QAAQ,EAAI,GAAEL,SAAU,WADJ;MAEpBM,MAAM,EAAE,MAFY;MAGpBC,IAAI,EAAEc;IAHc,CAAjB,CAAP;EAKH;;EAEDC,MAAM,CAACD,GAAD,EAAwB;IAC1B,OAAO,KAAKnB,WAAL,CAAiB;MACpBG,QAAQ,EAAG,GAAEL,SAAU,YAAWqB,GAAG,CAACF,EAAG,EADrB;MAEpBb,MAAM,EAAE,KAFY;MAGpBC,IAAI,EAAEc;IAHc,CAAjB,CAAP;EAKH;;EAEDE,SAAS,CAACJ,EAAD,EAA0C;IAC/C,OAAO,KAAKjB,WAAL,CAAiB;MACpBG,QAAQ,EAAI,GAAEL,SAAU,YAAWmB,EAAG,EADlB;MAEpBb,MAAM,EAAE;IAFY,CAAjB,CAAP;EAIH;;AAtDY"},"metadata":{},"sourceType":"module"}